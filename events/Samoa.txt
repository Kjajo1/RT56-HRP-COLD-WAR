###########################
# Samoa Events
###########################

add_namespace = samoa
add_namespace = samoa_coup
add_namespace = samoa_result
add_namespace = samoa_smuggle_stuffs
add_namespace = samoa_fautasi_race

country_event = { #Colonial Administration ends
	id = samoa.1
	title = samoa.1.t	
	desc = samoa.1.desc	
	picture = GFX_report_event_MPL_british_departure
	
	trigger = {
	    tag = SAM
		SAM = {
		    exists = yes
			is_subject = no
			has_government = neutrality
			has_cosmetic_tag = SAM_TWS
			OR = { 
				has_country_leader = {
					character = SAM_council
					ruling_only = yes
				}
				has_country_leader = {
					character = SAM_alfred_turnbull
					ruling_only = yes
				}
			}
		}
	}
	
	fire_only_once = yes
	
	option = {  #Democracy
		name = samoa.1.a
		retire_country_leader = yes
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
			last_election = "1936.1.1"
			election_frequency = 48
		}
		set_party_name = {
			ideology = neutrality
			name = SAM_neutrality_party
		}
		remove_ideas = SAM_goodwill_mission
		drop_cosmetic_tag = yes
	}

	option = { #Monarchy
		name = samoa.1.b
		retire_country_leader = yes
		set_party_name = {
			ideology = neutrality
			name = SAM_neutrality_party
		}
		if = {
		    limit = {
			    date < 1939.7.5
			}
			promote_character = {
				character = SAM_tanumafili_i
				ideology = constitutional_monarchy
			}
		}
		if = {
		    limit = {
			    date > 1939.7.5
			}
			promote_character = {
				character = SAM_tanumafili_ii
				ideology = constitutional_monarchy
			}
		}
		remove_ideas = SAM_goodwill_mission
		drop_cosmetic_tag = yes
	}
}

country_event = { #Samoa Asks for American Samoa
	id = samoa.2
	title = samoa.2.t	
	desc = samoa.2.desc	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Give in
		name = samoa.2.a
		1088 = { transfer_state_to = SAM }
		SAM = {
            country_event = { 
				id = samoa_result.1
				days = 1
				random_hours = 12
				random_days = 1
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = USA_diplomacy_focus
			}
			give_military_access = USA
			USA = {
				diplomatic_relation = {
					country = SAM
					relation = docking_rights
					active = yes
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 50
				has_opinion = { target = ROOT value > 45 }
			}
		}
	}

	option = { # No
		name = samoa.2.b
		SAM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = rejected_demands  
			}
			country_event = {
				id = samoa_result.2
				days = 1
				random_hours = 12
				random_days = 1
			}
			set_country_flag = SAM_rejected_american_samoa
		}
		ai_chance = {
			base = 50
			modifier = {
				add = -45
				has_opinion = { target = ROOT value < 10 }
			}
		}
	}
}

country_event = { #Samoa Asks for Tuvalu
	id = samoa.3
	title = samoa.3.t	
	desc = samoa.3.desc	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Give in
		name = samoa.3.a
		643 = { transfer_state_to = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.1
				days = 5
				random_hours = 12
				random_days = 1
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = large_increase 
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 50
				has_opinion = { target = ROOT value > 45 }
			}
		}
	}

	option = { # No
		name = samoa.3.b
		643 = { add_claim_by = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.2
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = rejected_demands  
			}
		}
		ai_chance = {
			base = 45
			modifier = {
				add = -45
				OR = {
					has_opinion = { target = ROOT value < 10 }
					has_war_with = ROOT
				}
			}
		}
	}
}

country_event = { #Samoa Asks for Tonga
	id = samoa.4
	title = samoa.4.t	
	desc = samoa.4.desc	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Give in
		name = samoa.4.a
		734 = { transfer_state_to = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.1
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = large_increase 
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 50
				has_opinion = { target = ROOT value > 45 }
			}
		}
	}

	option = { # No
		name = samoa.4.b
		734 = { add_claim_by = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.2
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = rejected_demands  
			}
		}
		ai_chance = {
			base = 45
			modifier = {
				add = -45
				OR = {
					has_opinion = { target = ROOT value < 10 }
					has_war_with = ROOT
				}
			}
		}
	}
}

country_event = { #Samoa Asks for Tahiti
	id = samoa.5
	title = samoa.5.t	
	desc = samoa.5.desc	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Give in
		name = samoa.5.a
		641 = { transfer_state_to = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.1
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = large_increase 
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				add = 50
				has_opinion = { target = ROOT value > 45 }
			}
		}
	}

	option = { # No
		name = samoa.5.b
		641 = { add_claim_by = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.2
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = rejected_demands  
			}
		}
		ai_chance = {
			base = 45
			modifier = {
				add = -45
				OR = {
					has_opinion = { target = ROOT value < 10 }
					has_war_with = ROOT
				}
			}
		}
	}
}

country_event = { #Samoa Asks for Fiji
	id = samoa.6
	title = samoa.6.t	
	desc = samoa.6.desc	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Give in
		name = samoa.6.a
		636 = { transfer_state_to = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.1
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = large_increase 
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 50
				has_opinion = { target = ROOT value > 45 }
			}
		}
	}

	option = { # No
		name = samoa.6.b
		636 = { add_claim_by = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.2
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = rejected_demands  
			}
		}
		ai_chance = {
			base = 45
			modifier = {
				factor = -45
				OR = {
					has_opinion = { target = ROOT value < 10 }
					has_war_with = ROOT
				}
			}
		}
	}
}

country_event = { #Samoa Asks for Hawaii
	id = samoa.7
	title = samoa.7.t	
	desc = samoa.7.desc	
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Give in
		name = samoa.7.a
		629 = { transfer_state_to = SAM }
		630 = { transfer_state_to = SAM }
		631 = { transfer_state_to = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.1
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = large_increase 
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 50
				has_opinion = { target = ROOT value > 45 }
			}
		}
	}

	option = { # No
		name = samoa.7.b
		629 = { add_claim_by = SAM }
		630 = { add_claim_by = SAM }
		631 = { add_claim_by = SAM }
		SAM = {
			country_event = { 
				id = samoa_result.2
				days = 5
				random_hours = 12
				random_days = 10
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = rejected_demands  
			}
		}
		ai_chance = {
			base = 45
			modifier = {
				factor = -45
				OR = {
					has_opinion = { target = ROOT value < 10 }
					has_war_with = ROOT
				}
			}
		}
	}
}

country_event = { #accepts our demands
	id = samoa_result.1
	title = samoa_result.1.t	
	desc = samoa_result.1.desc	
	picture = GFX_report_event_france_parade
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Yipee
		name = samoa_result.1.a
	}
}

country_event = { #rejects our demands
	id = samoa_result.2
	title = samoa_result.2.t	
	desc = samoa_result.2.desc	
	picture = GFX_report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	fire_only_once = yes
	
	option = {  #Darn it
		name = samoa_result.2.a
	}
}

country_event = { #Tumua and Pule launch coup
	id = samoa_coup.1
	title = samoa_coup.1.t
	desc = samoa_coup.1.desc
	picture = GFX_report_event_polish_army
	
	fire_only_once = yes
	trigger = {
	    tag = SAM
		SAM = {
		    exists = yes
			has_idea = SAM_tumua_and_pule
			has_government = communism
		}
	}
	
	option = {
		name = samoa_coup.1.a
		retire_country_leader = yes
		if = {
		    limit = {
				is_in_faction = yes
			}
			leave_faction = yes
		}
		
		if = {
			limit = {
				is_subject = yes
			}
			OVERLORD = {
				end_puppet = SAM
			}
		}
		
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
			last_election = "1936.1.1"
			election_frequency = 48
		}
		
		add_popularity = {
			ideology = neutrality
			popularity = 0.5
		}
		
		set_party_name = {
			ideology = neutrality
			name = SAM_tumua_and_pule
		}
		
		promote_character = {
			character = SAM_tupua_tamasese
			ideology = constitutional_monarchy
		}
	}
	
	option = {
		name = samoa_coup.1.b
		retire_country_leader = yes
		if = {
		    limit = {
				is_in_faction = yes
			}
			leave_faction = yes
		}
		
		if = {
			limit = {
				is_subject = yes
			}
			OVERLORD = {
				end_puppet = SAM
			}
		}
		
		set_politics = {
			ruling_party = neutrality
			elections_allowed = no
			last_election = "1936.1.1"
			election_frequency = 48
		}
		
		add_popularity = {
			ideology = neutrality
			popularity = 0.5
		}
		
		set_party_name = {
			ideology = neutrality
			name = SAM_tumua_and_pule
		}
		
		promote_character = {
			character = SAM_mataafa_faumuina_fiame
			ideology = constitutional_monarchy
		}
	}
}

country_event = { #Infantry Equipment
	id = samoa_smuggle_stuffs.1
	title = samoa_smuggle_stuffs.1.t
	desc = samoa_smuggle_stuffs.1.desc	
	picture = GFX_report_event_canada_army
	
	is_triggered_only = yes
	
	option = {  #Yipe?
		name = samoa_smuggle_stuffs.success
		add_equipment_to_stockpile = { 
			type = infantry_equipment_0 
			amount = 1000
			producer = USA
		}
	}
}

country_event = { #Infantry Equipment
	id = samoa_smuggle_stuffs.2
	title = samoa_smuggle_stuffs.1.t
	desc = samoa_smuggle_stuffs.1.desc
	picture = GFX_report_event_canada_army
	
	is_triggered_only = yes
	
	option = {  #Yipe?
		name = samoa_smuggle_stuffs.success
		add_equipment_to_stockpile = { 
			type = infantry_equipment_0 
			amount = 500
			producer = USA
		}
	}
}

country_event = { #Support Equipment
	id = samoa_smuggle_stuffs.3
	title = samoa_smuggle_stuffs.1.t
	desc = samoa_smuggle_stuffs.1.desc
	picture = GFX_report_event_canada_army
	
	is_triggered_only = yes
	
	option = {  #Yipe?
		name = samoa_smuggle_stuffs.success
		add_equipment_to_stockpile = { 
			type = support_equipment_1
			amount = 25
			producer = USA
		}
	}
}

country_event = { #Artillery
	id = samoa_smuggle_stuffs.4
	title = samoa_smuggle_stuffs.1.t
	desc = samoa_smuggle_stuffs.1.desc
	picture = GFX_report_event_british_artillery
	
	is_triggered_only = yes
	
	option = {  #Yipe?
		name = samoa_smuggle_stuffs.success
		add_equipment_to_stockpile = { 
			type = artillery_equipment_1
			amount = 50
			producer = USA
		}
	}
}

country_event = { #Trucks
	id = samoa_smuggle_stuffs.5
	title = samoa_smuggle_stuffs.1.t
	desc = samoa_smuggle_stuffs.1.desc
	picture = GFX_report_event_generic_truck
	
	is_triggered_only = yes
	
	option = {  #Yipe?
		name = samoa_smuggle_stuffs.success
		add_equipment_to_stockpile = { 
			type = motorized_equipment_0
			amount = 50
			producer = USA
		}
	}
}

country_event = { #Operational Failure
	id = samoa_smuggle_stuffs.6
	title = samoa_smuggle_stuffs.6.t
	desc = samoa_smuggle_stuffs.6.desc
	picture = GFX_report_event_canada_army
	
	is_triggered_only = yes
	
	option = {  #Darn
		name = samoa_smuggle_stuffs.6.a
		add_manpower = -25
	}
}

country_event = { #Fautasi Race every year
	id = samoa_fautasi_race.1
	title = samoa_fautasi_race.1.t
	desc = samoa_fautasi_race.1.desc
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {  #Until Next Year!
		name = samoa_fautasi_race.1.a
		add_stability = 0.05
		add_equipment_to_stockpile = {
			type = convoy
			amount = 2
		}
		hidden_effect = {
			country_event = { id = samoa_fautasi_race.1 days = 365 }
		}
	}
}